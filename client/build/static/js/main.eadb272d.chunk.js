(this.webpackJsonpcornhub=this.webpackJsonpcornhub||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(31),s=a.n(r),o=(a(84),a(17)),i=a(14),l=a(124),j=a(117),u=a(126),d=a(121),b=function(){return window.localStorage.getItem("token")},h=function(){var e=b();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))},p=function(){var e=h();return!!e&&Math.round(Date.now()/1e3)<e.exp},m=a.p+"static/media/logo.127378de.png",O=a(0),x=function(){var e=Object(i.f)();return Object(O.jsxs)(l.a,{className:"navbar",bg:"black",expand:"lg",children:[Object(O.jsx)(l.a.Brand,{href:"/",children:Object(O.jsx)("img",{src:m,width:"100",height:"40",className:"d-inline-block align-top"})}),Object(O.jsxs)(j.a,{className:"nav-container",children:[Object(O.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsxs)(l.a.Collapse,{id:"basic-navbar-nav",children:[Object(O.jsxs)(u.a,{className:"mr-auto",children:[Object(O.jsx)(u.a.Link,{className:"navbar-home",href:"/home",children:"Home"}),Object(O.jsx)(j.a,{className:"box-of-fun",children:Object(O.jsxs)(d.a,{title:"Box of fun!",id:"basic-nav-dropdown",children:[Object(O.jsx)(d.a.Item,{href:"/weather",children:"Weather"}),Object(O.jsx)(d.a.Item,{href:"/resources",children:"Resources"}),Object(O.jsx)(d.a.Item,{href:"/paypal",children:"Paypal"}),Object(O.jsx)(d.a.Divider,{}),Object(O.jsx)(d.a.Item,{href:"/about",children:"About"})]})})]}),!p()&&Object(O.jsx)(u.a.Link,{href:"/auth",children:"Register/Login"}),p()&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.a.Link,{href:"/Profile",children:"Profile"}),Object(O.jsx)(u.a.Link,{onClick:function(){window.localStorage.removeItem("token"),window.localStorage.removeItem("id"),e.push("/"),location.reload()},children:"Logout"})]})]})]})]})},f=a(11),g=a(8),v=a.n(g),y=a(10),w=a(7),N=a(12),k=a.n(N),C=a(125),S=a(123),_=a(78),I=a(118),L=function(e){return Object(O.jsx)("td",{children:Object(O.jsxs)(o.b,{to:"/plants/".concat(e.id),children:[Object(O.jsx)("p",{className:"tile-title",children:e.plant_name}),Object(O.jsx)("p",{children:e.type}),Object(O.jsx)("p",{className:"science",children:e.subspecies}),Object(O.jsx)("img",{src:e.image,className:"plant-home-image"})]})})},B=function(){var e=Object(n.useState)(null),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(w.a)(r,2),i=s[0],l=s[1],u=Object(n.useState)(5),d=Object(w.a)(u,2),b=d[0],h=d[1],p=Object(n.useState)(null),m=Object(w.a)(p,2),x=m[0],g=m[1],N=Object(n.useState)(null),B=Object(w.a)(N,2),E=B[0],A=B[1],M=Object(n.useState)(null),D=Object(w.a)(M,2),F=D[0],P=D[1],G=Object(n.useState)(null),T=Object(w.a)(G,2),J=T[0],z=T[1],q=Object(n.useState)(null),H=Object(w.a)(q,2),U=H[0],W=H[1],R=["January","February","March","April","May","June","July","August","September","October","November","December"];Object(n.useEffect)((function(){var e=new Date;l(e),function(){var e=Object(y.a)(v.a.mark((function e(){var t,a,n,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/plants/");case 2:for(t=e.sent,c(t.data),g(t.data),console.log("clog1",t.data),a=[],n=0;a.length<=5;n++)r=Math.floor(Math.random()*t.data.length),a.includes(r)||a.push(r);console.log(a),s=t.data.filter((function(e,t){return a.includes(t)})),W(s),console.log(s);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),console.log("clog2",a)}),[]);return Object(O.jsxs)(O.Fragment,{children:[a&&x&&U?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(j.a,{className:"carousel-box",children:Object(O.jsx)(C.a,{children:U.map((function(e){return Object(O.jsxs)(C.a.Item,{children:[Object(O.jsx)(o.b,{to:"/plants/".concat(e.id),children:Object(O.jsx)("img",{className:"d-block w-100",src:e.image,alt:e.plant_name})}),Object(O.jsxs)(C.a.Caption,{children:[Object(O.jsx)("h3",{children:e.plant_name}),Object(O.jsx)("p",{children:e.subspecies})]})]},e.id)}))})}),Object(O.jsxs)("div",{className:"searches",children:[Object(O.jsxs)("div",{className:"dropdown",children:[Object(O.jsx)(S.a.Label,{className:"search-label",children:"Choose By Difficulty!"}),Object(O.jsxs)(S.a.Control,{as:"select",onChange:function(e){h(Number(e.target.value))},children:[Object(O.jsx)("option",{value:"5",children:"Master (All Plants)"}),Object(O.jsx)("option",{value:"4",children:"Hard"}),Object(O.jsx)("option",{value:"3",children:"Medium"}),Object(O.jsx)("option",{value:"2",children:"Easy"}),Object(O.jsx)("option",{value:"1",children:"Beginner"})]})]}),Object(O.jsxs)("div",{className:"dropdown",children:[Object(O.jsx)(S.a.Label,{className:"search-label",children:"Search for a Plant!"}),Object(O.jsx)(_.a,{placeholder:"Search","aria-label":"Search","aria-describedby":"basic-addon1",onChange:function(e){var t=a.filter((function(t){return t.plant_name.toUpperCase().includes(e.target.value.toUpperCase())||t.subspecies.toUpperCase().includes(e.target.value.toUpperCase())||t.type.toUpperCase().includes(e.target.value.toUpperCase())}));g(t)}})]})]}),Object(O.jsx)(I.a,{responsive:!0,children:Object(O.jsx)("tbody",{children:Object(O.jsx)("tr",{children:x.filter((function(e){return e.difficulty<=b})).map((function(e){return Object(O.jsx)(L,Object(f.a)({},e),e.id)}))})})})]}):Object(O.jsx)("p",{children:" loading... "}),a?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"searches",children:[Object(O.jsxs)("h2",{className:"month-scroll",children:["Sow in ",E?R[E]:i.toLocaleString("default",{month:"long"}),":"]}),Object(O.jsxs)("div",{className:"dropdown",children:[Object(O.jsx)(S.a.Label,{className:"search-label",children:"Or Choose a Month:"}),Object(O.jsxs)(S.a.Control,{as:"select",onChange:function(e){A(Number(e.target.value))},children:[Object(O.jsx)("option",{value:"0",children:"January"}),Object(O.jsx)("option",{value:"1",children:"February"}),Object(O.jsx)("option",{value:"2",children:"March"}),Object(O.jsx)("option",{value:"3",children:"April"}),Object(O.jsx)("option",{value:"4",children:"May"}),Object(O.jsx)("option",{value:"5",children:"June"}),Object(O.jsx)("option",{value:"6",children:"July"}),Object(O.jsx)("option",{value:"7",children:"August"}),Object(O.jsx)("option",{value:"8",children:"September"}),Object(O.jsx)("option",{value:"9",children:"October"}),Object(O.jsx)("option",{value:"10",children:"November"}),Object(O.jsx)("option",{value:"11",children:"December"})]})]})]}),Object(O.jsx)(I.a,{responsive:!0,children:Object(O.jsx)("tbody",{children:Object(O.jsx)("tr",{children:E?a.filter((function(e){return e.sow_month===E})).map((function(e){return Object(O.jsx)(L,Object(f.a)({},e),e.id)})):a.filter((function(e){return e.sow_month===i.getMonth()})).map((function(e){return Object(O.jsx)(L,Object(f.a)({},e),e.id)}))})})})]}):Object(O.jsx)("p",{children:" loading... "}),a?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"searches",children:[Object(O.jsxs)("h2",{className:"month-scroll",children:["Plant in ",F?R[F]:i.toLocaleString("default",{month:"long"}),":"]}),Object(O.jsxs)("div",{className:"dropdown",children:[Object(O.jsx)(S.a.Label,{className:"search-label",children:"Or Choose a Month:"}),Object(O.jsxs)(S.a.Control,{as:"select",onChange:function(e){P(Number(e.target.value))},children:[Object(O.jsx)("option",{value:"0",children:"January"}),Object(O.jsx)("option",{value:"1",children:"February"}),Object(O.jsx)("option",{value:"2",children:"March"}),Object(O.jsx)("option",{value:"3",children:"April"}),Object(O.jsx)("option",{value:"4",children:"May"}),Object(O.jsx)("option",{value:"5",children:"June"}),Object(O.jsx)("option",{value:"6",children:"July"}),Object(O.jsx)("option",{value:"7",children:"August"}),Object(O.jsx)("option",{value:"8",children:"September"}),Object(O.jsx)("option",{value:"9",children:"October"}),Object(O.jsx)("option",{value:"10",children:"November"}),Object(O.jsx)("option",{value:"11",children:"December"})]})]})]}),Object(O.jsx)(I.a,{responsive:!0,children:Object(O.jsx)("tbody",{children:Object(O.jsx)("tr",{children:F?a.filter((function(e){return e.plant_month===F})).map((function(e){return Object(O.jsx)(L,Object(f.a)({},e),e.id)})):a.filter((function(e){return e.plant_month===i.getMonth()})).map((function(e){return Object(O.jsx)(L,Object(f.a)({},e),e.id)}))})})})]}):Object(O.jsx)("p",{children:" loading... "}),a?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"searches",children:[Object(O.jsxs)("h2",{className:"month-scroll",children:["Harvest in ",J?R[J]:i.toLocaleString("default",{month:"long"}),":"]}),Object(O.jsxs)("div",{className:"dropdown",children:[Object(O.jsx)(S.a.Label,{className:"search-label",children:"Or Choose a Month:"}),Object(O.jsxs)(S.a.Control,{as:"select",onChange:function(e){z(Number(e.target.value))},children:[Object(O.jsx)("option",{value:"0",children:"January"}),Object(O.jsx)("option",{value:"1",children:"February"}),Object(O.jsx)("option",{value:"2",children:"March"}),Object(O.jsx)("option",{value:"3",children:"April"}),Object(O.jsx)("option",{value:"4",children:"May"}),Object(O.jsx)("option",{value:"5",children:"June"}),Object(O.jsx)("option",{value:"6",children:"July"}),Object(O.jsx)("option",{value:"7",children:"August"}),Object(O.jsx)("option",{value:"8",children:"September"}),Object(O.jsx)("option",{value:"9",children:"October"}),Object(O.jsx)("option",{value:"10",children:"November"}),Object(O.jsx)("option",{value:"11",children:"December"})]})]})]}),Object(O.jsx)(I.a,{responsive:!0,children:Object(O.jsx)("tbody",{children:Object(O.jsx)("tr",{children:J?a.filter((function(e){return e.harvest_month===J})).map((function(e){return Object(O.jsx)(L,Object(f.a)({},e),e.id)})):a.filter((function(e){return e.harvest_month===i.getMonth()})).map((function(e){return Object(O.jsx)(L,Object(f.a)({},e),e.id)}))})})})]}):Object(O.jsx)("p",{children:" loading... "})]})},E=a(19),A=a(77),M=a(119),D=a(127),F=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(w.a)(r,2),o=s[0],l=s[1],u=function(e){var t=Object(f.a)(Object(f.a)({},a),{},Object(E.a)({},e.target.name,e.target.value));c(t)},d=Object(i.f)(),b=function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k.a.post("/api/auth/login/",a);case 4:n=e.sent,window.localStorage.setItem("token",n.data.token),window.localStorage.setItem("id",n.data.sub),d.push("/profile"),location.reload(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),l(!0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(j.a,{className:"login-box",children:[Object(O.jsxs)(S.a,{className:"auth-form",onSubmit:b,children:[Object(O.jsx)("h2",{children:"Login"}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(S.a.Label,{children:"Email address"}),Object(O.jsx)(S.a.Control,{type:"email",placeholder:"Enter email",className:"text-muted",id:"login-email",name:"email",value:c.email,onChange:u})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicPassword",children:[Object(O.jsx)(S.a.Label,{children:"Password"}),Object(O.jsx)(S.a.Control,{placeholder:"Enter password",className:"text-muted",id:"login-password",type:"password",name:"password",value:c.password,onChange:u})]}),Object(O.jsx)(A.a,{className:"auth-button",type:"submit",children:"Submit"})]}),Object(O.jsx)(j.a,{className:"login-toast",children:Object(O.jsx)(M.a,{children:Object(O.jsxs)(D.a,{className:"toast-error",show:o,onClose:function(){return l(!o)},children:[Object(O.jsxs)(D.a.Header,{children:[Object(O.jsx)("img",{src:"holder.js/20x20?text=%20",alt:""}),Object(O.jsx)("strong",{className:"mr-auto",children:"Woah there!"})]}),Object(O.jsx)(D.a.Body,{children:"Not valid!"})]})})})]})},P=function(){var e=Object(n.useState)({first_name:"",last_name:"",email:"",username:"",password:""}),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(w.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(!1),u=Object(w.a)(l,2),d=u[0],b=u[1],h=Object(n.useState)(""),p=Object(w.a)(h,2),m=p[0],x=p[1],g=Object(n.useState)(!1),N=Object(w.a)(g,2),C=N[0],_=N[1],I=function(e){var t=Object(f.a)(Object(f.a)({},a),{},Object(E.a)({},e.target.name,e.target.value));c(t)},L=function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k.a.post("/api/auth/register/",a);case 4:n=e.sent,window.localStorage.setItem("token",n.data.token),_(!0),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("err",e.t0.response.data),x(e.t0.response.data),i(!0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(j.a,{className:"login-outerbox",children:!1===C?Object(O.jsxs)(j.a,{className:"login-box",children:[Object(O.jsxs)(S.a,{className:"auth-form",onSubmit:L,children:[Object(O.jsx)("h2",{children:"Register"}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicFirstName",children:[Object(O.jsx)(S.a.Label,{children:"First Name"}),Object(O.jsx)(S.a.Control,{type:"text",placeholder:"Enter First Name",className:"text-muted",id:"register-first-name",name:"first_name",value:c.first_name,onChange:I})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicLastName",children:[Object(O.jsx)(S.a.Label,{children:"Last Name"}),Object(O.jsx)(S.a.Control,{type:"text",placeholder:"Enter Last Name",className:"text-muted",id:"register-last-name",name:"last_name",value:c.last_name,onChange:I})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(S.a.Label,{children:"Email address"}),Object(O.jsx)(S.a.Control,{type:"email",placeholder:"Enter email",className:"text-muted",id:"register-email",name:"email",value:c.email,onChange:I})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicUsername",children:[Object(O.jsx)(S.a.Label,{children:"Username"}),Object(O.jsx)(S.a.Control,{placeholder:"Enter username",className:"text-muted",id:"register-username",type:"text",name:"username",value:c.username,onChange:I})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicPassword",children:[Object(O.jsx)(S.a.Label,{children:"Password"}),Object(O.jsx)(S.a.Control,{placeholder:"Enter password",className:"text-muted",id:"login-password",type:"password",name:"password",value:c.password,onChange:I})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicPasswordConfirmation",children:[Object(O.jsx)(S.a.Label,{children:"Password Confirmation"}),Object(O.jsx)(S.a.Control,{placeholder:"Confirm password",className:"text-muted",id:"resgister-password-confirmation",type:"password",name:"password_confirmation",value:c.password_confirmation,onChange:I})]}),a.first_name&&a.last_name&&a.email&&a.username&&a.password&&a.password_confirmation?Object(O.jsx)(A.a,{className:"auth-button",type:"submit",children:"Submit"}):Object(O.jsx)(A.a,{className:"auth-button-disabled",onClick:function(){return b(!0)},children:"Submit"})]}),Object(O.jsx)(j.a,{className:"login-toast",children:Object(O.jsxs)(M.a,{children:[Object(O.jsxs)(D.a,{className:"toast-error",show:o,onClose:function(){return i(!1)},children:[Object(O.jsxs)(D.a.Header,{children:[Object(O.jsx)("img",{src:"holder.js/20x20?text=%20",alt:""}),Object(O.jsx)("strong",{className:"mr-auto",children:"Woah there!"})]}),Object(O.jsxs)(D.a.Body,{children:[m.email&&m.email[0],m.password&&m.password[0],m.username&&m.username[0],m.password_confirmation&&m.password_confirmation[0]]})]}),Object(O.jsxs)(D.a,{className:"toast-error",show:d,onClose:function(){return b(!1)},children:[Object(O.jsxs)(D.a.Header,{children:[Object(O.jsx)("img",{src:"holder.js/20x20?text=%20",alt:""}),Object(O.jsx)("strong",{className:"mr-auto",children:"Woah there!"})]}),Object(O.jsx)(D.a.Body,{children:"Missing information"})]})]})})]}):Object(O.jsxs)("div",{className:"please-login",children:[Object(O.jsx)("p",{children:Object(O.jsxs)("strong",{children:[" Welcome ",a.first_name,a.last_name,"! "]})}),Object(O.jsx)("p",{children:"Registration successful"}),Object(O.jsxs)("p",{children:["Your email address is ",a.email]})]})})},G=function(){return Object(O.jsxs)("div",{className:"auth-container",children:[Object(O.jsx)("div",{className:"auth-page",children:Object(O.jsx)(P,{})}),Object(O.jsx)("div",{className:"auth-page",children:Object(O.jsx)(F,{})})]})},T=a(61),J=a(120),z=a(122),q=function(){var e=Object(n.useState)(""),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(w.a)(r,2),l=s[0],u=s[1],d=Object(n.useState)({saved_plants:[]}),h=Object(w.a)(d,2),p=h[0],m=h[1],x=Object(n.useState)(null),f=Object(w.a)(x,2),g=f[0],N=f[1],C=Object(n.useState)(""),S=Object(w.a)(C,2),_=S[0],I=S[1],L=Object(i.f)(),B=["January","February","March","April","May","June","July","August","September","October","November","December"],F=Object(n.useState)([]),P=Object(w.a)(F,2),G=P[0],q=P[1];console.log(G,q);var H=Object(n.useState)(null),U=Object(w.a)(H,2),W=U[0],R=U[1],Y=Object(n.useState)(!1),Q=Object(w.a)(Y,2),V=Q[0],X=Q[1],K=Object(n.useState)([]),Z=Object(w.a)(K,2),$=Z[0],ee=Z[1];setInterval((function(){R(Date.now())}),3e5),Object(n.useEffect)((function(){(function(){var e=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/plants/");case 2:t=e.sent,u(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(y.a)(v.a.mark((function e(){var t,a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("id"),e.next=3,k.a.get("/api/auth/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(b())}});case 3:a=e.sent,c(a.data),n=a.data.saved_plants.filter((function(e){return window.localStorage.getItem(e)})),R(Date.now()),console.log("PLANTS TO WATER >>>",n),r=n.map((function(e){return window.localStorage.getItem(e)})),q(r),console.log("mappedGetPlantsToWater>>>",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var te=function(e){var t=Date.now(),a=e.target.value,n=e.target.name,c=e.target.id;window.localStorage.setItem(a,[a,n,c,t,"water now"])},ae=G.map((function(e){console.log("item >>>>>",e);var t=e.split(","),a=parseInt(t[3]),n=86.4*parseInt(t[2])*1e6+a;return[parseInt(t[0]),t[1],n]}));console.log("splitItemsFromLocalStorage",ae),console.log(W);var ne=ae.filter((function(e){return e[2]<W}));if(console.log(ne,ee),Object(n.useEffect)((function(){ee(ne)}),[G]),Object(n.useEffect)((function(){$.length>0&&X(!0)}),[$]),console.log("needToWater",$),!l||!a)return"loading";console.log(G);var ce=[];a.saved_plants.forEach((function(e,t){var a=l.filter((function(t){return t.id===e}));ce=[].concat(Object(T.a)(ce),[a])}));var re=ce.map((function(e){return e[0]})),se=function(e){N("confirm");var t=a.saved_plants.filter((function(t){return t!==parseFloat(e.target.value)})),n=Object(E.a)({},e.target.name,t);m(n)},oe=function(){var e=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("id"),N(""),e.prev=2,e.next=5,k.a.put("/api/auth/".concat(t,"/"),p,{headers:{Authorization:"Bearer ".concat(b())}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("error",e.t0);case 10:location.reload();case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){N("")};return Object(O.jsxs)(j.a,{className:"profile-container",children:[Object(O.jsxs)(j.a,{className:"user-profile-info",children:[Object(O.jsx)("h2",{children:"Your Profile"}),Object(O.jsxs)(j.a,{className:"user-profile-info-outerbox",children:[Object(O.jsxs)(j.a,{className:"user-profile-info-innerbox",children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Name: "})," ",a.first_name," ",a.last_name," "]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Username: "})," ",a.username]})]}),Object(O.jsxs)(j.a,{className:"user-profile-info-innerbox",children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Email: "})," ",a.email]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Saved Plants: "}),a.saved_plants.length]})]})]}),Object(O.jsx)(o.b,{to:"/editprofile",children:Object(O.jsx)(A.a,{className:"auth-button",children:"Edit Profile"})}),Object(O.jsx)(o.b,{to:"/add",children:Object(O.jsx)(A.a,{className:"auth-button",children:"Add a plant"})}),Object(O.jsxs)(j.a,{className:"saved-plants-title",children:[Object(O.jsx)("h2",{children:"Your Saved Plants"}),Object(O.jsx)("p",{children:Object(O.jsx)("small",{children:"Click on Plant Image for more info"})}),Object(O.jsx)("input",{className:"profile-search-bar",placeholder:"Search by Plant Type",onChange:function(e){I(e.target.value.trim())}})]})]}),0!==a.saved_plants.length?Object(O.jsxs)(j.a,{className:"profile-plants-container",children:[re.filter((function(e){return""===_||e.type.trim().toLowerCase().includes(_.toLowerCase())?e:null})).map((function(e,t){return Object(O.jsxs)(j.a,{className:"profile-plant",children:[Object(O.jsxs)(j.a,{className:"profile-plant-card",children:[Object(O.jsx)(o.b,{to:"/plants/".concat(e.id),children:Object(O.jsx)(J.a,{className:"profile-plant-card-image",src:e.image,alt:e.plant_name},e.id)}),Object(O.jsxs)(j.a,{className:"profile-plant-card-info",children:[Object(O.jsxs)("h3",{children:[e.plant_name," / ",Object(O.jsx)("i",{children:e.subspecies})," "]}),Object(O.jsxs)("p",{children:[" Type: ",e.type," "]}),Object(O.jsxs)("p",{children:[" Description: ",e.description," "]}),Object(O.jsxs)(j.a,{className:"plant-info-box",children:[Object(O.jsxs)(j.a,{className:"plant-info-innerbox",children:[Object(O.jsxs)("p",{children:[" Sow in: ",B[e.sow_month]," "]}),Object(O.jsxs)("p",{children:[" Plant out in: ",B[e.plant_month]," "]}),Object(O.jsxs)("p",{children:[" Harvest in: ",B[e.harvest_month]]})]}),Object(O.jsxs)(j.a,{className:"plant-info-innerbox",children:[Object(O.jsxs)("p",{children:[" Sunlight: ",e.sunlight," "]}),Object(O.jsxs)("p",{children:[" Soil Type: ",e.soil_acidity," "]}),Object(O.jsxs)("p",{children:[" Water every: ",e.watering_frequency," days "]})]})]})]})]}),!g&&Object(O.jsxs)(j.a,{className:"profile-blant-button-container",children:[Object(O.jsxs)(A.a,{name:"saved_plants",className:"auth-button",value:e.id,onClick:se,children:[" Remove ",Object(O.jsx)("br",{})," ",e.plant_name,"?"]}),Object(O.jsx)(A.a,{id:e.watering_frequency,name:e.plant_name,className:"auth-button",value:e.id,onClick:te,children:" Click for a watering reminder"})]})]},e.id)})),g&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(z.a,{show:g,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",keyboard:"false",children:Object(O.jsxs)(z.a.Dialog,{children:[Object(O.jsx)(z.a.Header,{onClick:ie,closeButton:!0,children:Object(O.jsx)(z.a.Title,{children:"Delete plant from your wishlist?"})}),Object(O.jsx)(z.a.Body,{children:Object(O.jsx)("p",{children:"  Are you sure you want to delete this from your saved plants?"})}),Object(O.jsxs)(z.a.Footer,{children:[Object(O.jsx)(A.a,{onClick:ie,variant:"secondary",children:"Close"}),Object(O.jsx)(A.a,{onClick:oe,variant:"primary",children:"Delete?"})]})]})})})]}):Object(O.jsxs)(j.a,{className:"no-saved-plants",children:[Object(O.jsx)("h2",{children:"You have no saved plants!"}),Object(O.jsx)(A.a,{className:"auth-button",onClick:function(){return L.push("/home")},children:"View Plants"})]}),Object(O.jsx)(j.a,{className:"login-toast",children:Object(O.jsx)(M.a,{children:Object(O.jsxs)(D.a,{className:"toast-error",show:V,onClose:function(){X(!1),$.map((function(e){return window.localStorage.removeItem(e[0])}))},children:[Object(O.jsxs)(D.a.Header,{children:[Object(O.jsx)("img",{src:"holder.js/20x20?text=%20",alt:""}),Object(O.jsx)("strong",{className:"mr-auto",children:"You need to water your:"})]}),Object(O.jsxs)(D.a.Body,{children:[$.map((function(e){return Object(O.jsx)("li",{children:e[1]},e[0])})),"Click the button again for another reminder!"]})]})})})]})},H=function(){var e=["For hardcore gardeners.","Nothing seedy... only plants.","Full of photos of dirty, filthy... root vegetables."],t=Object(n.useState)(e[0]),a=Object(w.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){r(e[Math.floor(3*Math.random())])}),[]),Object(O.jsxs)("div",{className:"titleContainer",children:[Object(O.jsx)("div",{className:"imageBox"}),Object(O.jsx)("h1",{className:"subtitle",children:c}),Object(O.jsx)(A.a,{size:"lg",href:"/home",className:"enterButton",children:"Enter"})]})},U=a(128),W=function(){return Object(O.jsxs)(j.a,{className:"about-container",children:[Object(O.jsxs)(j.a,{className:"about-card",children:[Object(O.jsx)(j.a,{className:"about-image-container",children:Object(O.jsx)(U.a.Img,{fluid:!0,variant:"top",src:"https://res.cloudinary.com/cornhub/image/upload/v1618923591/About/img_4304_ldpygi.jpg"})}),Object(O.jsxs)(U.a.Body,{children:[Object(O.jsx)(U.a.Title,{children:" Patrick Tapio Johnson "}),Object(O.jsxs)(U.a.Text,{children:[Object(O.jsx)("p",{children:"Software Developer from London, England"}),Object(O.jsx)("p",{children:"Likes: Cello, Dad Jokes"})]}),Object(O.jsxs)(j.a,{className:"about-links",children:[Object(O.jsx)(A.a,{className:"about-button",variant:"primary",href:"https://www.linkedin.com/in/patrick-tapio-johnson/",target:"_blank",children:"LinkedIn"}),Object(O.jsx)(A.a,{className:"about-button",variant:"primary",href:"https://github.com/PaddyCello",target:"_blank",children:"GitHub"})]})]})]}),Object(O.jsxs)(j.a,{className:"about-card",children:[Object(O.jsx)(j.a,{className:"about-image-container",children:Object(O.jsx)(U.a.Img,{fluid:!0,variant:"top",src:"https://res.cloudinary.com/cornhub/image/upload/v1618756749/About/deae7c6d-be83-465f-a43e-2a63b0ad7c29_wfq8li.jpg"})}),Object(O.jsxs)(U.a.Body,{children:[Object(O.jsx)(U.a.Title,{children:" Jonty Ward "}),Object(O.jsxs)(U.a.Text,{children:[Object(O.jsx)("p",{children:"Software Developer from Greater Norwich Area, England"}),Object(O.jsx)("p",{children:"Likes: Chillis, Goats"})]}),Object(O.jsxs)(j.a,{className:"about-links",children:[Object(O.jsx)(A.a,{className:"about-button",href:"https://www.linkedin.com/in/jonty-ward-b0236164/",target:"_blank",children:"LinkedIn"}),Object(O.jsx)(A.a,{className:"about-button",href:"https://github.com/jonty-ward",target:"_blank",children:"GitHub"})]})]})]}),Object(O.jsxs)(j.a,{className:"about-card",children:[Object(O.jsx)(j.a,{className:"about-image-container",children:Object(O.jsx)(U.a.Img,{fluid:!0,variant:"top",src:"https://res.cloudinary.com/cornhub/image/upload/v1618753594/About/Plant1_l8f0jv.jpg"})}),Object(O.jsxs)(U.a.Body,{children:[Object(O.jsx)(U.a.Title,{children:" Michael Henderson "}),Object(O.jsxs)(U.a.Text,{children:[Object(O.jsx)("p",{children:"Software Developer from London, England"}),Object(O.jsx)("p",{children:"Likes: Sunflowers, Kate Bush"})]}),Object(O.jsxs)(j.a,{className:"about-links",children:[Object(O.jsx)(A.a,{className:"about-button",variant:"primary",href:"https://www.linkedin.com/in/mhenderson24/",target:"_blank",children:"LinkedIn"}),Object(O.jsx)(A.a,{className:"about-button",variant:"primary",href:"https://github.com/Awyssa",target:"_blank",children:"GitHub"})]})]})]})]})},R=function(){return Object(O.jsxs)(j.a,{className:"resources-page",children:[Object(O.jsxs)(j.a,{className:"spotify",children:[Object(O.jsx)("p",{children:"CornHub Spotify Playlist"}),Object(O.jsx)("iframe",{src:"https://open.spotify.com/embed/playlist/3B73vSUPTr7RljzlpF1wcV",width:"400",height:"500",allowtransparency:"true",allow:"encrypted-media"}),Object(O.jsx)("img",{src:"https://res.cloudinary.com/cornhub/image/upload/v1618923742/About/mushroom_cwmuus.webp"})]}),Object(O.jsxs)(j.a,{className:"res-info",children:[Object(O.jsx)(j.a,{className:"resources-item",children:Object(O.jsx)("p",{children:"Some of our Favourite Links"})}),Object(O.jsx)(j.a,{className:"resources-item",children:Object(O.jsx)("a",{href:"https://www.southdevonchillifarm.co.uk/",target:"blank",children:Object(O.jsx)("img",{src:"https://www.southdevonchillifarm.co.uk/images/logos/1/logo.png"})})}),Object(O.jsx)(j.a,{className:"resources-item",children:Object(O.jsx)("a",{href:"https://theplantwarehouse.co.uk/",target:"blank",children:Object(O.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0379/6015/5267/files/Plants_House_Logo-01_x100.png?v=1588625584"})})}),Object(O.jsx)(j.a,{className:"resources-item",children:Object(O.jsx)("a",{href:"https://n1gardencentre.co.uk/",target:"blank",children:Object(O.jsx)("img",{src:"https://n1gardencentre.co.uk/wp-content/uploads/2019/02/logo-3.png"})})}),Object(O.jsx)(j.a,{className:"resources-item",children:Object(O.jsx)("a",{href:"https://www.otterfarm.co.uk/",target:"blank",children:Object(O.jsx)("img",{src:"https://www.otterfarm.co.uk/wp-content/uploads/2016/10/otterfarmlogo-grey.png"})})})]})]})},Y=function(){return Object(O.jsx)(z.a.Footer,{children:Object(O.jsx)("p",{children:"this is the footer"})})},Q=a(79),V=function(e){var t=e.weather;return Object(O.jsx)("div",{className:"day-weather",children:Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(M.a,{xs:2,md:4,lg:6,children:[Object(O.jsxs)(Q.a,{children:[Object(O.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.current.weather[0].icon,"@2x.png"),alt:t.current.weather[0].description}),Object(O.jsxs)("p",{children:[" Weather: ",t.current.weather[0].main," "]})]}),Object(O.jsxs)(Q.a,{children:[Object(O.jsxs)("p",{children:[" Temp: ",Math.round(10*(t.current.temp-273.15))/10," \xb0C  "]}),Object(O.jsxs)("p",{children:["Humidity: ",t.current.humidity," % "]}),Object(O.jsxs)("p",{children:[" Sunrise ",new Date(1e3*t.current.sunrise).toLocaleTimeString()]}),Object(O.jsxs)("p",{children:[" Sunset ",new Date(1e3*t.current.sunset).toLocaleTimeString()]})]})]})})})},X=function(e){var t=e.weather;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{className:"scroll-message-weather",children:"Scoll on the box to see more weather information!"}),Object(O.jsx)(I.a,{responsive:!0,children:Object(O.jsx)("tr",{children:Object(O.jsx)("div",{className:"weatherContainer",children:Object(O.jsx)("div",{className:"day",children:t.daily.map((function(e,t){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"weather-day",children:Object(O.jsx)(j.a,{children:Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(M.a,{children:[Object(O.jsxs)(Q.a,{children:[Object(O.jsx)("p",{children:new Date(1e3*e.dt).toLocaleDateString()}),Object(O.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),alt:e.weather[0].description}),Object(O.jsx)("p",{children:e.weather[0].description})]}),Object(O.jsxs)(Q.a,{children:[Object(O.jsxs)("p",{children:["Day:  ",Math.round(10*(e.temp.day-273.15))/10," \xb0C,",Object(O.jsx)("br",{})," Feels like: ",Math.round(10*(e.feels_like.day-273.15))/10," \xb0C  "]}),Object(O.jsxs)("p",{children:["Evening: ",Math.round(10*(e.temp.eve-273.15))/10," \xb0C,",Object(O.jsx)("br",{})," Feels like: ",Math.round(10*(e.feels_like.eve-273.15))/10," \xb0C  "]})]}),Object(O.jsxs)(Q.a,{children:[Object(O.jsxs)("p",{children:["Max: ",Math.round(10*(e.temp.max-273.15))/10," \xb0C ",Object(O.jsx)("br",{}),"Min: ",Math.round(10*(e.temp.min-273.15))/10," \xb0C  "]}),Object(O.jsxs)("p",{children:["Humidity: ",e.humidity,"%"]}),Object(O.jsxs)("p",{children:[" Sunrise ",new Date(1e3*e.sunrise).toLocaleTimeString()]}),Object(O.jsxs)("p",{children:[" Sunset ",new Date(1e3*e.sunset).toLocaleTimeString()]})]})]})})})},t)})}))})})})})]})},K=function(e){var t=e.weather,a=Object(n.useState)(""),c=Object(w.a)(a,2),r=c[0],s=c[1];Object(n.useEffect)((function(){(function(){var e=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/plants/");case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("savedPlantData",r);var i=Math.round(t.daily.map((function(e){return e.temp.day})).reduce((function(e,t){return e+t}),0)/8-273.15);if(console.log("weeklyDayTempAverage >>>",i),!r)return"";var l=r.filter((function(e){return e.germination_temperature<=i}));return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h5",{className:"weather-jobs-description",children:["The average temperature this week is going to be ",i," \xb0C, here are some ideas of what you can germinate outside!  "]}),Object(O.jsx)("div",{className:"wearther-jobs-carousel",children:l.map((function(e){return Object(O.jsx)("div",{className:"profile-wishlist-column",children:Object(O.jsxs)(o.b,{to:"/plants/".concat(e.id),children:[Object(O.jsxs)("p",{children:[" ",e.plant_name," "]}),Object(O.jsx)("img",{className:"chilli-image-profile",src:e.image,alt:e.plant_name},e.id)]})},e.id)}))})]})},Z=function(){var e=Object(n.useState)(null),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)("current"),s=Object(w.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),u=Object(w.a)(l,2),d=u[0],b=u[1],h=Object(n.useState)("London"),p=Object(w.a)(h,2),m=p[0],x=p[1],g=Object(n.useState)(null),N=Object(w.a)(g,2),C=N[0],_=N[1],I=Object(n.useState)(null),L=Object(w.a)(I,2),B=L[0],M=L[1];Object(n.useEffect)((function(){setTimeout((function(){window.navigator.geolocation.getCurrentPosition((function(e){console.log("position",e);var t=e.coords,a=t.longitude,n=t.latitude;b({longitude:a,latitude:n})}))}),300)}),[]),console.log("VIEWPORT>>>>>",d),Object(n.useEffect)((function(){(function(){var e=Object(y.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(C,".json?access_token=pk.eyJ1IjoiandhcmQwMzk1IiwiYSI6ImNrbXFnM3l3azJvNHgyb256N2U3NGY1NnUifQ.j9Q8uNoEEO0GBonf6TLoew"));case 2:t=e.sent,a=t.data,b({longitude:a.features[0].geometry.coordinates[0],latitude:a.features[0].geometry.coordinates[1]});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[C]),Object(n.useEffect)((function(){(function(){var e=Object(y.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(d.longitude,",").concat(d.latitude,".json?access_token=pk.eyJ1IjoiandhcmQwMzk1IiwiYSI6ImNrbXFnM3l3azJvNHgyb256N2U3NGY1NnUifQ.j9Q8uNoEEO0GBonf6TLoew"));case 2:t=e.sent,a=t.data,M(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]),Object(n.useEffect)((function(){(function(){var e=Object(y.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(d.latitude,"&lon=").concat(d.longitude,"&exclude=hourly,minutely&appid=c7b22e378e8404d1ac5d214062e5f766"));case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]);var D=function(e){"current"===e.target.value&&i("current"),"week"===e.target.value&&i("week")};return a&&B?(console.log("reveseGeoLocation",B),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(j.a,{className:"weather-button-container",children:["".concat(B.features[0].text,", ").concat(B.features[2].text,", ").concat(B.features[3].text," "),Object(O.jsxs)(S.a,{className:"select-location-form",onSubmit:function(e){e.preventDefault(),_(m.location)},children:[Object(O.jsx)(S.a.Group,{controlId:"formBasicLocation",children:Object(O.jsx)(S.a.Control,{type:"text",placeholder:"Enter location",className:"text-muted",id:"location",name:"location",value:x.location,onChange:function(e){var t=Object(f.a)(Object(f.a)({},m),{},Object(E.a)({},e.target.name,e.target.value));x(t)}})}),Object(O.jsx)(A.a,{className:"weather-button",type:"submit",children:"Submit"}),Object(O.jsxs)("div",{className:"forecast-buttons-container",children:[Object(O.jsx)(A.a,{className:"weather-button",value:"current",onClick:D,children:"Current Weather"}),Object(O.jsx)("div",{className:"or"}),Object(O.jsx)(A.a,{className:"weather-button",value:"week",onClick:D,children:"7 Day Forecast"})]})]})]}),Object(O.jsx)("div",{className:"week-weather",children:"current"===o?Object(O.jsx)(V,{weather:a}):function(){if("week"===o)return Object(O.jsx)(X,{weather:a})}()}),Object(O.jsx)(K,{weather:a})]})):"Loading"},$=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(w.a)(r,2),o=s[0],l=s[1],u=Object(n.useState)({email:"",username:"",first_name:"",last_name:""}),d=Object(w.a)(u,2),h=d[0],p=d[1],m=Object(i.f)(),x=Object(n.useState)(""),g=Object(w.a)(x,2),N=g[0],C=g[1],_=function(){C("")},I=function(){var e=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("id"),e.next=3,k.a.delete("/api/auth/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(b())}});case 3:window.localStorage.removeItem("token"),window.localStorage.removeItem("id"),m.push("/"),location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){(function(){var e=Object(y.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("id"),e.next=3,k.a.get("/api/auth/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(b())}});case 3:a=e.sent,p(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var L=function(e){var t=Object(f.a)(Object(f.a)({},h),{},Object(E.a)({},e.target.name,e.target.value));p(t)},B=function(){var e=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=window.localStorage.getItem("id"),e.next=5,k.a.put("/api/auth/".concat(a,"/"),h,{headers:{Authorization:"Bearer ".concat(b())}});case 5:m.push("/profile/".concat(a,"/")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response.data),l(e.t0.response.data),c(!0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),M=h.profile_image;return console.log(M),Object(O.jsx)(j.a,{className:"edit-profile-container",children:Object(O.jsxs)(S.a,{className:"edit-profile-form",onSubmit:B,children:[Object(O.jsx)("h2",{children:"Edit Profile"}),Object(O.jsxs)(S.a.Group,{children:[Object(O.jsx)(S.a.Label,{children:"Email address"}),Object(O.jsx)(S.a.Control,{type:"email",placeholder:"Enter email",className:"text-muted",id:"edit-email",name:"email",value:h.email,onChange:L})]}),Object(O.jsxs)(S.a.Group,{children:[Object(O.jsx)(S.a.Label,{children:"Username"}),Object(O.jsx)(S.a.Control,{placeholder:"Enter username",className:"text-muted",id:"edit-username",type:"text",name:"username",value:h.username,onChange:L})]}),Object(O.jsxs)(S.a.Group,{children:[Object(O.jsx)(S.a.Label,{children:"First Name"}),Object(O.jsx)(S.a.Control,{placeholder:"Edit first name",className:"text-muted",id:"edit-first-name",type:"text",name:"first_name",value:h.first_name,onChange:L})]}),Object(O.jsxs)(S.a.Group,{children:[Object(O.jsx)(S.a.Label,{children:"Last Name"}),Object(O.jsx)(S.a.Control,{placeholder:"Edit last name",className:"text-muted",id:"edit-last-name",type:"text",name:"last_name",value:h.last_name,onChange:L})]}),Object(O.jsx)(j.a,{children:Object(O.jsxs)(D.a,{className:"toast-error",show:a,onClose:function(){return c(!1)},children:[Object(O.jsxs)(D.a.Header,{children:[Object(O.jsx)("img",{src:"holder.js/20x20?text=%20",alt:""}),Object(O.jsx)("strong",{className:"mr-auto",children:"Woah there!"})]}),Object(O.jsxs)(D.a.Body,{className:"toast.body",children:[o.email&&o.email[0],o.password&&o.password[0],o.username&&o.username[0],o.password_confirmation&&o.password_confirmation[0]]})]})}),!N&&Object(O.jsxs)(j.a,{className:"edit-profile-buttons",children:[h.first_name&&h.last_name&&h.email&&h.username?Object(O.jsx)(A.a,{className:"edit-profile-button auth-button",type:"submit",children:"Submit"}):Object(O.jsx)(A.a,{className:"edit-profile-button auth-button",disabled:"true",children:"Submit"}),Object(O.jsx)(A.a,{className:"edit-profile-button auth-button",variant:"danger",onClick:function(){C("delete")},type:"submit",children:"Delete profile"})]})," ",Object(O.jsx)(A.a,{className:"auth-button",onClick:function(){return m.goBack()},children:"Back to Profile"}),N&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(z.a,{show:N,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",keyboard:"false",children:Object(O.jsxs)(z.a.Dialog,{children:[Object(O.jsx)(z.a.Header,{onClick:_,closeButton:!0,children:Object(O.jsx)(z.a.Title,{children:"Delete your profile?"})}),Object(O.jsx)(z.a.Body,{children:Object(O.jsx)("p",{children:"  Are you sure you want to delete your profile?"})}),Object(O.jsxs)(z.a.Footer,{children:[Object(O.jsx)(A.a,{onClick:_,variant:"secondary",children:"Close"}),Object(O.jsx)(A.a,{onClick:I,variant:"primary",children:"Delete?"})]})]})})})]})})},ee=function(e){var t=e.plantId,a=e.userData;console.log("plant id",t);var c=Object(n.useState)({saved_plants:[].concat(Object(T.a)(a.saved_plants),[t])}),r=Object(w.a)(c,1)[0],s=Object(n.useState)("Save to Profile"),o=Object(w.a)(s,2),i=o[0],l=o[1];if(!r)return"";var j=function(){var e=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("id"),e.next=3,k.a.put("/api/auth/".concat(t,"/"),r,{headers:{Authorization:"Bearer ".concat(b())}});case 3:l("Saved!");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(A.a,{variant:"primary",className:"about-button",size:"sm",onClick:j,children:i})},te=function(){var e=Object(n.useState)(null),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(w.a)(r,2),o=s[0],l=s[1],j=["January","February","March","April","May","June","July","August","September","October","November","December"],u=Object(i.g)(),d=Object(i.f)();Object(n.useEffect)((function(){(function(){var e=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/plants/".concat(u.id,"/"));case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),console.log(l)}),[]),Object(n.useEffect)((function(){window.localStorage.getItem("id")?function(){var e=Object(y.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("id"),e.next=3,k.a.get("/api/auth/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(b())}});case 3:a=e.sent,l(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():console.log("logged out")}),[]);return a?(console.log("user data",o),console.log("plantData",a),Object(O.jsxs)("div",{className:"plantshow",children:[Object(O.jsx)("h2",{children:a.plant_name}),Object(O.jsx)("h3",{children:a.type}),Object(O.jsx)("h3",{className:"science",children:a.subspecies}),Object(O.jsx)("img",{src:a.image}),Object(O.jsx)("p",{className:"science",children:a.description}),12!==a.sow_month?Object(O.jsxs)("p",{children:["Sow in: ",j[a.sow_month]]}):Object(O.jsx)("p",{}),12!==a.plant_month?Object(O.jsxs)("p",{children:["Plant out in: ",j[a.plant_month]]}):Object(O.jsx)("p",{}),12!==a.harvest_month?Object(O.jsxs)("p",{children:["Harvest in: ",j[a.harvest_month]]}):Object(O.jsx)("p",{}),Object(O.jsxs)("p",{children:["Sunlight requirements: ",a.sunlight]}),Object(O.jsxs)("p",{children:["Soil type: ",a.soil_acidity]}),a.watering_frequency>0?Object(O.jsxs)("p",{children:["Water every ",a.watering_frequency," days"]}):Object(O.jsx)("p",{}),a.fertilizing_frequency>0?Object(O.jsxs)("p",{children:["Fertilize every ",a.fertilizing_frequency," days with ",a.fertilizer_type]}):Object(O.jsxs)("p",{children:["Fertilize once before sowing with ",a.fertilizer_type]}),1e3!==a.germination_temperature?Object(O.jsxs)("p",{children:["Ideal germination temperature: ",a.germination_temperature,"\xb0C"]}):Object(O.jsx)("p",{}),Object(O.jsxs)("p",{children:["Difficulty rating: ",a.difficulty,"/5"]}),!1===a.verified_by_admin?Object(O.jsx)("p",{className:"not-yet",children:"Not yet verified by CornHub"}):Object(O.jsx)("p",{}),Object(O.jsxs)("div",{className:"button-holder",children:[o?Object(O.jsx)(ee,{userData:o,plantId:u.id}):Object(O.jsx)(A.a,{variant:"primary",className:"about-button",size:"sm",onClick:function(){d.push("/auth")},children:"Log in to Save!"}),Object(O.jsx)(A.a,{variant:"primary",className:"about-button",size:"sm",onClick:function(){console.log(d),d.goBack()},children:"Back"})]})]})):Object(O.jsx)("h1",{children:"Loading"})};function ae(e){var t=e.confirmedChekoutAmount,a=Object(n.useState)(!1),r=Object(w.a)(a,2),s=r[0],o=r[1],l=Object(n.useState)(null),u=Object(w.a)(l,2),d=u[0],b=u[1],h=c.a.useRef(),p=Object(i.f)();return console.log("confirmed-checkout amout on the paypal form page",t),c.a.useEffect((function(){window.paypal.Buttons({createOrder:function(e,a){return a.order.create({intent:"CAPTURE",purchase_units:[{description:"Your description",amount:{currency_code:"GBP",value:t}}]})},onApprove:function(){var e=Object(y.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.order.capture();case 2:n=e.sent,o(!0),console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onError:function(e){b(e),console.error(e)}}).render(h.current)}),[]),s?Object(O.jsxs)(j.a,{className:"paypal-checkout-container",children:[Object(O.jsx)("h2",{children:"Payment successful!"}),Object(O.jsx)("h4",{children:"Click the button below to take you to the homepage!"}),Object(O.jsx)(A.a,{className:"auth-button",onClick:function(){return p.push("/home")},children:"Back to home page?"})]}):d?Object(O.jsx)("div",{children:"Error Occurred in processing payment.! Please try again."}):Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(j.a,{className:"paypal-checkout-container",children:[Object(O.jsxs)("h4",{children:["Total Amount in GBP: \xa3  ",t]}),Object(O.jsx)("div",{ref:h})]})})}var ne=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(0),s=Object(w.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(0),u=Object(w.a)(l,2),d=u[0],b=u[1],h=Object(n.useState)(null),p=Object(w.a)(h,2),m=p[0],x=p[1];return console.log("confirmedChekoutAmount>>>>>",d),console.log(o,i),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"App",children:Object(O.jsx)("header",{className:"App-header",children:!0===a?Object(O.jsx)("div",{className:"payment-div",children:Object(O.jsx)(ae,{confirmedChekoutAmount:d})}):Object(O.jsx)("div",{children:Object(O.jsxs)(j.a,{className:"paypal-checkout-container",children:[Object(O.jsx)("h1",{children:"Support our project"}),Object(O.jsx)("p",{children:"This website is run by a dedicated team of volunteers! If you would like to support our campaign, please donate below!"}),Object(O.jsxs)(S.a,{className:"select-location-form",onSubmit:function(e){e.preventDefault(),b(parseFloat(o.amount)),x(1)},children:[Object(O.jsx)(S.a.Group,{controlId:"formBasicLocation",children:Object(O.jsx)(S.a.Control,{type:"text",placeholder:"Enter donation amount",className:"text-muted",id:"location",name:"amount",value:i.amount,onChange:function(e){var t=Object(f.a)(Object(f.a)({},a),{},Object(E.a)({},e.target.name,e.target.value));i(t)}})}),m?Object(O.jsx)(A.a,{className:"donate-button checkout-button",type:"submit",children:" Change  Amount?"}):Object(O.jsx)(A.a,{className:"donate-button checkout-button",type:"submit",children:" Confirm  Amount?"})]}),Object(O.jsx)(A.a,{onClick:function(){c(!0)},className:"checkout-button",children:"Checkout with PayPal"})]})})})})})},ce=function(){var e=Object(n.useState)({plant_name:"",subspecies:"",type:"",sow_month:12,plant_month:12,harvest_month:12,sunlight:"",soil_acidity:"",watering_frequency:0,fertilizing_frequency:1e3,fertilizer_type:"",germination_temperature:0,image:"",description:"",difficulty:5,owner:"",verified_by_admin:!1}),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(w.a)(r,2),o=s[0],l=s[1],u=Object(n.useState)(!1),d=Object(w.a)(u,2),h=d[0],p=d[1],m=Object(i.f)(),x=function(e){var t=Object(f.a)(Object(f.a)({},a),{},Object(E.a)({},e.target.name,e.target.value));c(t)},g=function(e){var t=Object(f.a)(Object(f.a)({},a),{},Object(E.a)({},e.target.name,Number(e.target.value)));console.log(t),c(t)},N=function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k.a.post("/api/plants/",a,{headers:{Authorization:"Bearer ".concat(b())}});case 4:n=e.sent,console.log(n),l(!0),p(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("err",e.t0.response.data),p(!0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(j.a,{className:"login-box add-plant",children:[o?Object(O.jsxs)("div",{className:"success",children:[Object(O.jsx)("h1",{children:"Thanks so much!"}),Object(O.jsx)("br",{}),Object(O.jsx)("h2",{children:"Add another?"}),Object(O.jsx)(A.a,{className:"auth-button",type:"button",onClick:function(){l(!1)},children:"Add More!"})]}):Object(O.jsxs)(S.a,{className:"auth-form",onSubmit:N,children:[Object(O.jsx)("h2",{children:"Help us make our app better by contributing more plants."}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicName",children:[Object(O.jsx)(S.a.Label,{children:"Name"}),Object(O.jsx)(S.a.Control,{type:"text",placeholder:"Enter plant name",className:"text-muted",id:"post-plant-name",name:"plant_name",value:c.plant_name,onChange:x})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicSubspecies",children:[Object(O.jsx)(S.a.Label,{children:"Subspecies"}),Object(O.jsx)(S.a.Control,{placeholder:"Enter subspecies",className:"text-muted",id:"post-plant-subspecies",type:"text",name:"subspecies",value:c.subspecies,onChange:x})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicType",children:[Object(O.jsx)(S.a.Label,{children:"Type"}),Object(O.jsx)(S.a.Control,{type:"text",placeholder:"Enter type of plant",className:"text-muted",id:"post-plant-type",name:"type",value:c.type,onChange:x})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicSowMonth",children:[Object(O.jsx)(S.a.Label,{children:"Sowing Month"}),Object(O.jsxs)(S.a.Control,{as:"select",name:"sow_month",onChange:g,children:[Object(O.jsx)("option",{value:"12",children:"Please select"}),Object(O.jsx)("option",{value:"0",children:"January"}),Object(O.jsx)("option",{value:"1",children:"February"}),Object(O.jsx)("option",{value:"2",children:"March"}),Object(O.jsx)("option",{value:"3",children:"April"}),Object(O.jsx)("option",{value:"4",children:"May"}),Object(O.jsx)("option",{value:"5",children:"June"}),Object(O.jsx)("option",{value:"6",children:"July"}),Object(O.jsx)("option",{value:"7",children:"August"}),Object(O.jsx)("option",{value:"8",children:"September"}),Object(O.jsx)("option",{value:"9",children:"October"}),Object(O.jsx)("option",{value:"10",children:"November"}),Object(O.jsx)("option",{value:"11",children:"December"})]})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicPlantMonth",children:[Object(O.jsx)(S.a.Label,{children:"Planting Month"}),Object(O.jsxs)(S.a.Control,{as:"select",name:"plant_month",onChange:g,children:[Object(O.jsx)("option",{value:"12",children:"Please select"}),Object(O.jsx)("option",{value:"0",children:"January"}),Object(O.jsx)("option",{value:"1",children:"February"}),Object(O.jsx)("option",{value:"2",children:"March"}),Object(O.jsx)("option",{value:"3",children:"April"}),Object(O.jsx)("option",{value:"4",children:"May"}),Object(O.jsx)("option",{value:"5",children:"June"}),Object(O.jsx)("option",{value:"6",children:"July"}),Object(O.jsx)("option",{value:"7",children:"August"}),Object(O.jsx)("option",{value:"8",children:"September"}),Object(O.jsx)("option",{value:"9",children:"October"}),Object(O.jsx)("option",{value:"10",children:"November"}),Object(O.jsx)("option",{value:"11",children:"December"})]})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicHarvestMonth",children:[Object(O.jsx)(S.a.Label,{children:"Harvesting Month"}),Object(O.jsxs)(S.a.Control,{as:"select",name:"harvest_month",onChange:g,children:[Object(O.jsx)("option",{value:"12",children:"Please select"}),Object(O.jsx)("option",{value:"0",children:"January"}),Object(O.jsx)("option",{value:"1",children:"February"}),Object(O.jsx)("option",{value:"2",children:"March"}),Object(O.jsx)("option",{value:"3",children:"April"}),Object(O.jsx)("option",{value:"4",children:"May"}),Object(O.jsx)("option",{value:"5",children:"June"}),Object(O.jsx)("option",{value:"6",children:"July"}),Object(O.jsx)("option",{value:"7",children:"August"}),Object(O.jsx)("option",{value:"8",children:"September"}),Object(O.jsx)("option",{value:"9",children:"October"}),Object(O.jsx)("option",{value:"10",children:"November"}),Object(O.jsx)("option",{value:"11",children:"December"})]})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicSunlight",children:[Object(O.jsx)(S.a.Label,{children:"Sunlight Requirements"}),Object(O.jsx)(S.a.Control,{type:"text",placeholder:"Enter sunlight requirements",className:"text-muted",id:"post-plant-sunlight",name:"sunlight",value:c.sunlight,onChange:x})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicAcidity",children:[Object(O.jsx)(S.a.Label,{children:"Soil Acidity Requirements"}),Object(O.jsx)(S.a.Control,{placeholder:"Enter soil acidity requirements",className:"text-muted",id:"post-plant-acidity",type:"text",name:"soil_acidity",value:c.soil_acidity,onChange:x})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicWatering",children:[Object(O.jsx)(S.a.Label,{children:"Watering Frequency"}),Object(O.jsx)(S.a.Control,{placeholder:"Enter watering frequency in days",className:"text-muted",id:"post-plant-plant-watering",min:"1",type:"number",name:"watering_frequency",value:c.watering_frequency,onChange:x})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicFertFreq",children:[Object(O.jsx)(S.a.Label,{children:"Fertilizing Frequency (enter 0 if only once before sowing)"}),Object(O.jsx)(S.a.Control,{placeholder:"Enter fertilizing frequency in days",className:"text-muted",id:"post-plant-fert-freq",min:"0",type:"number",name:"fertilizing_frequency",value:c.fertilizing_frequency,onChange:x})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicFertType",children:[Object(O.jsx)(S.a.Label,{children:"Type of Fertilizer Required"}),Object(O.jsx)(S.a.Control,{type:"text",placeholder:"Enter fertilizer requirements",className:"text-muted",id:"post-plant-fert-type",name:"fertilizer_type",value:c.fertilizer_type,onChange:x})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicGermination",children:[Object(O.jsx)(S.a.Label,{children:"Germination Temperature"}),Object(O.jsx)(S.a.Control,{placeholder:"Enter germination temperature in Celsius",className:"text-muted",id:"post-plant-germination",min:"0",type:"number",name:"germination_temperature",value:c.germination_temperature,onChange:x})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicImage",children:[Object(O.jsx)(S.a.Label,{children:"Add URL For Plant Image"}),Object(O.jsx)(S.a.Control,{placeholder:"Enter image url",className:"text-muted",id:"post-plant-image",type:"text",name:"image",value:c.image,onChange:x})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicDescription",children:[Object(O.jsx)(S.a.Label,{children:"Add a Description of Your Plant"}),Object(O.jsx)(S.a.Control,{as:"textarea",rows:3,placeholder:"Enter description",className:"text-muted",type:"text",name:"description",value:c.description,onChange:x})]}),Object(O.jsxs)(S.a.Group,{controlId:"formBasicDifficulty",children:[Object(O.jsx)(S.a.Label,{children:"Difficulty Out of Five"}),Object(O.jsx)(S.a.Control,{placeholder:"Enter difficulty (5 if left blank)",className:"text-muted",id:"post-plant-difficulty",min:"1",max:"5",type:"number",name:"difficulty",value:c.difficulty,onChange:x})]}),Object(O.jsx)(A.a,{className:"auth-button",type:"submit",children:"Submit"})]}),h?Object(O.jsx)("p",{className:"not-yet",children:"Oops, I think you missed something."}):Object(O.jsx)("p",{}),Object(O.jsx)(A.a,{className:"auth-button back-button",type:"button",onClick:function(){m.goBack()},children:"Back to Profile"})]})},re=function(){return Object(O.jsx)(o.a,{children:Object(O.jsxs)(i.c,{children:[Object(O.jsx)(i.a,{exact:!0,path:"/",children:Object(O.jsx)(H,{})}),Object(O.jsx)(i.a,{path:"/add",children:Object(O.jsx)(ce,{})}),Object(O.jsxs)("div",{children:[Object(O.jsx)(x,{}),Object(O.jsx)(i.a,{path:"/plants/:id",children:Object(O.jsx)(te,{})}),Object(O.jsx)(i.a,{exact:!0,path:"/home",children:Object(O.jsx)(B,{})}),Object(O.jsx)(i.a,{exact:!0,path:"/auth",children:Object(O.jsx)(G,{})}),Object(O.jsx)(i.a,{exact:!0,path:"/profile",children:Object(O.jsx)(q,{})}),Object(O.jsx)(i.a,{exact:!0,path:"/profile/:id",children:Object(O.jsx)(q,{})}),Object(O.jsx)(i.a,{path:"/weather",children:Object(O.jsx)(Z,{})}),Object(O.jsx)(i.a,{path:"/editprofile",children:Object(O.jsx)($,{})}),Object(O.jsx)(i.a,{exact:!0,path:"/about",children:Object(O.jsx)(W,{})}),Object(O.jsx)(i.a,{exact:!0,path:"/Resources",children:Object(O.jsx)(R,{})}),Object(O.jsx)(i.a,{exact:!0,path:"/paypal",children:Object(O.jsx)(ne,{})})]}),Object(O.jsx)(Y,{})]})})};s.a.render(Object(O.jsx)(re,{}),document.getElementById("root"))},84:function(e,t,a){}},[[112,1,2]]]);
//# sourceMappingURL=main.eadb272d.chunk.js.map